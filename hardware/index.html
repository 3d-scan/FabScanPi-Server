<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <meta name="author" content="Mario Lukas">
  <link rel="shortcut icon" href="../images/fabscanpi_ICON.png">
  
  <title>Hardware - FabScanPi</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">
  <link href="../css/extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Hardware";
    var mkdocs_page_input_path = "hardware.md";
    var mkdocs_page_url = "/hardware/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
   
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> FabScanPi</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Home</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../news/">News</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 current">
        <a class="current" href="./">Hardware</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#bill-of-materials">Bill of Materials</a></li>
                
            
                <li class="toctree-l3"><a href="#how-to-assemble-the-cabinet">How to Assemble the Cabinet</a></li>
                
            
                <li class="toctree-l3"><a href="#the-fabscanpi-hat">The FabScanPi HAT</a></li>
                
            
                <li class="toctree-l3"><a href="#connecting-the-stepper-motors">Connecting the Stepper Motor(s)</a></li>
                
            
                <li class="toctree-l3"><a href="#connecting-the-lasers">Connecting the Lasers</a></li>
                
            
                <li class="toctree-l3"><a href="#connecting-the-motor-drivers">Connecting the Motor drivers</a></li>
                
            
                <li class="toctree-l3"><a href="#connecting-the-power-supply">Connecting the Power Supply</a></li>
                
            
                <li class="toctree-l3"><a href="#connecting-the-led-ring">Connecting the LED Ring</a></li>
                
            
                <li class="toctree-l3"><a href="#additional-motors-for-the-lasers">Additional Motors for the Lasers</a></li>
                
            
                <li class="toctree-l3"><a href="#screws-and-washers">Screws and Washers</a></li>
                
            
            </ul>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../software/">Software</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../examples/">Examples</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../developing/">Developing</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../contributing/">Contributing</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../community/">Community</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../faq/">F.A.Q</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">FabScanPi</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Hardware</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/mariolukas/FabScanPi-Server/edit/master/docs/hardware.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="bill-of-materials">Bill of Materials</h1>
<ul>
<li>Raspberry Pi 2 or Raspberry Pi 3</li>
<li><a href="http://www.watterott.com/en/Stepper-Motor-Unipolar/Bipolar-200-Steps/Rev-42x48mm-4V-1200mA">Stepper Motor, NEMA 17 type, 1.8° step angle (200 steps/revolution)</a></li>
<li><a href="http://www.watterott.com/en/Pololu-Universal-Aluminum-Mounting-Hub-for-5mm-Shaft-M3-Holes-2-Pack">Pololu Universal Aluminum Mounting Hub for 5mm Shaft</a></li>
<li>Motor driver (<a href="http://www.watterott.com/en/SilentStepStick-with-Pins">Silent Step Stick</a> recommended)</li>
<li><a href="http://www.watterott.com/en/5mW-Laser-Module-emitter-Red-Line">5V red line laser module</a></li>
<li><a href="http://www.watterott.com/en/Servo-HS-53">9g Servo Motor</a> (not supported by the software now)</li>
<li><a href="http://www.watterott.com/en/RPi-FabScan-HAT">FabScanPi HAT</a> for Raspberry Pi</li>
<li><a href="http://www.watterott.com/de/CUI-V7805-2000-StepDown-5V/2A">12V to 5V switching regulator</a></li>
<li><a href="http://www.watterott.com/en/Raspberry-Pi-Camera-v2">Raspberry Pi camera V2</a></li>
<li><a href="http://www.watterott.com/en/Raspberry-Pi-Camera-Connection-Cable-50cm">Raspberry Pi Camera Connection Cable - 50cm</a></li>
<li><a href="http://www.watterott.com/index.php?page=product&amp;info=4930">FabScanPi Camera Mount</a> with LED ring</li>
<li><a href="http://www.watterott.com/en/FabScan-Pi-Housing-Parts">FaBScanPi Case</a></li>
<li><a href="http://www.watterott.com/en/FabScan-Pi-Screw-Set">Screw Set</a> or see the <a href="#screws-and-washers">Screws and Washers</a> table</li>
<li><a href="http://www.watterott.com/en/Power-Supply-12V-2A">1x 12V / 2A power supply</a></li>
</ul>
<h1 id="how-to-assemble-the-cabinet">How to Assemble the Cabinet</h1>
<p>The laser cut files can be found at <a href="https://github.com/mariolukas/FabScan-Case">https://github.com/mariolukas/FabScan-Case</a></p>
<p><img alt="drawing_200" src="../images/FabScanPI_closed.jpg" />
<img alt="drawing_200" src="../images/FabScanPi_opened.jpg" /></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/W9KgYL7sZN0" frameborder="0" allowfullscreen></iframe>

<h1 id="the-fabscanpi-hat">The FabScanPi HAT</h1>
<p><strong>General description</strong></p>
<p>The FabScan HAT is basically a combination of an Arduino and the old
FabScan Shield for Arduino. It provides all connectors for the hardware
parts (like motors, servos, lasers, LED's etc.) Instead of an USB 
connection to the Raspberry Pi, the HAT is put on the Pi's pinheaders.
The HAT communicates over a serial connection with the Rasperry Pi. 
(GPIO14 and GPIO15 of the Raspberry Pi). The firmware and also updates are 
flashed automatically by the FabscanPi-Server application.</p>
<p><img alt="drawing_400" src="../images/fabscanpihat.png" /></p>
<p><strong>How to assemble the FabScanPi HAT</strong></p>
<hr />
<pre><code> _About soldering_
</code></pre>
<p><em>If you are soldering for the very fist time, we suggest to read the comic <a href="https://mightyohm.com/files/soldercomic/FullSolderComic_EN.pdf">"Soldering is Easy"</a> by Mitch Altman (soldering wisdom), Andie Nordgren (comic adaption) and Jeff Keyzer (layout and editing).</em></p>
<hr />
<iframe width="560" height="315" src="https://www.youtube.com/embed/DogfNxk277Y" frameborder="0" allowfullscreen></iframe>

<p>The FabScanPi HAT will be delivered with the main components already assembled. You only need to install the headers and connectors which fit your demand.
<img alt="drawing_400" src="../images\hat_assembly_1.jpg" /></p>
<p>Let's start with the female 8-pin headers for the stepper motor controllers. First the two headers which are designated with "Stepper Turn Table". Put one in and flip the pcb to solder the pins on the rear side. Solder one pin first and make sure the header is still in the correct position. A "third hand" tool or a pcb-holder are very helpful for this job.</p>
<p>Now you can select between three options</p>
<ul>
<li>
<p><strong>Option A:</strong> Two stepper motor ports for the laser adjustment or</p>
</li>
<li>
<p><strong>Option B:</strong> Two servo connector ports for the laser adjustment or</p>
</li>
<li>
<p><strong>Option C:</strong> Two stepper and two servo connector ports for the lasers (additional headers required) </p>
</li>
</ul>
<p>​</p>
<p><strong>Option A:</strong></p>
<p>Use the remaining four 8-pin femal pin headers and install them on the pcb. You can now use the HAT with three stepper motors (1x turn table, 2x laser control)</p>
<p><img alt="drawing_400" src="../images\hat_assembly_2a.jpg" /></p>
<p><strong>Option B:</strong></p>
<p>Use an electronics wire cutter to cut off two 3-pin male headers from the long male-header. Put them into the pinholes labeled "Servo opt." You can now use the HAT with one stepper motors (1x turn table) and two servos (2x servo opt.).</p>
<p><img alt="drawing_400" src="../images\hat_assembly_2.jpg" /></p>
<p><strong>Option C:</strong></p>
<p>If you are unsure about using servos or stepper motors you can install both. Therefore you'll need to buy four 8-pin female headers which are at least 8 mm of height. Install them at the pinholes for the "Stepper Laser 1 and 2". Also cut off two 3-pin male headers from the long male-header. Put them into the pinholes labeled "Servo opt." Now you can use either servo controllers nor the connectors for the servos.</p>
<p><img alt="drawing_400" src="../images\hat_assembly_2b.jpg" /></p>
<p><strong>Connector for the LED-Ring</strong></p>
<p>The next connector is the JST connector for the RPi-RingLight. Make sure the direction is correct. Fix it and solder the three pins on the rear side of the PCB.</p>
<p><img alt="drawing_400" src="../images\hat_assembly_3.jpg" /></p>
<p>The pins of the JST connector on the HAT have the following configuration:</p>
<p><img alt="drawing_400" src="../images\JST-HAT-Configuration.jpg" /></p>
<p><strong>Connectors for the stepper motors</strong></p>
<p>Here you can use the three 4-port screw terminals if your stepper cables have no connector plug. </p>
<p><img alt="drawing_400" src="../images\hat_assembly_4.jpg" /></p>
<p>If the stepper motor cables have an 4-pin female connector you can use three 4-pin male headers (to be cutted off from the long header).</p>
<p><img alt="drawing_400" src="../images\hat_assembly_4a.jpg" /></p>
<p><strong>Connector for Laser(s) and Laser safety switch</strong></p>
<p>The next connector to be installed is the 6-port screw terminal. It must be soldered into the corresponding pin holes between the JST connector and the 8-pin female header for the table stepper. Later this 6-port terminal will be used to connect the Laser(s) and the Laser safety switch.</p>
<p><img alt="drawing_400" src="../images\hat_assembly_5.jpg" /></p>
<p><strong>Power Connector</strong> (DC- jack)</p>
<p>Now the DC-jack power connector will be installed into three oval pin holes across from the 2x20-pin socket header. Soldering is done from the top side of the PCB.</p>
<p><img alt="drawing_400" src="../images\RPi-FabScan-HAT13.jpg" /></p>
<p><strong>Assembling the Raspberry-Pi Connector</strong></p>
<p>Now the 2x20-pin socket connector must be installed from the rear side of the PCB (where we only did soldering till now). Soldering of the 2x20-pin connector is done on the front side (where all our parts are placed). This connector is used as interface for the Raspberry-Pi.</p>
<p><img alt="drawing_400" src="../images\hat_assembly_7.jpg" /></p>
<p><strong>ATTENTION:</strong> The power connector in the image above image is soldered in an alternative way. The recommended way is shown in the second last image.</p>
<p>The center pin is for +12V DC, the outer connector tongue is for GND.</p>
<p><img alt="drawing_400" src="../images\Power_Connector_HAT.jpg" /></p>
<p><strong>Mount the 5V DC/DC converter or 5V external Power Source</strong></p>
<p>Additionally to the 12V DC coming from the power supply the FabScanPi needs 5V DC. Now you have to decide if you want to use a DC/DC converter IC which generates the 5V out of the 12V from the external 12 power supply (common solution). </p>
<p>For the DC/DC converter option you can find further instructions and pictures on the <a href="https://github.com/watterott/RPi-FabScan-HAT/blob/master/hardware/RPi-FabScan-HAT_Assembly.pdf">Watterott electronic website</a>.</p>
<p>If you are using another power supply which is capable of delivering 12V and 5V DC you can connect it as well. Details can be found <a href="#5V-EXT">here</a>.</p>
<h1 id="connecting-the-stepper-motors">Connecting the Stepper Motor(s)</h1>
<p>There are different kinds of stepper motos. Mostly with 4 or 6 leads. For
connecting the stepper motor to the FabScanPi HAT you need to know the
corresponding lead pairs of the motor coils. The best way to find out something
about the motor is to have a look at the datasheet of the motor manufacturer.
In the following desciptions the pairs are called (2B, 1B) and (1A, 2A).</p>
<p><img alt="drawing_300" src="../images/4wires.jpg" /> 
<img alt="drawing_300" src="../images/6wires.jpg" /></p>
<p>There are several ways to find the pair wires without a datasheet. Some of them
are described here:</p>
<p><strong>Method with an ohm-meter</strong></p>
<p>Simply measure pairs of wires for their resistance. If the resistance is a few ohms 
( &lt; 100 Ω) only, you've found a pair. The other two wires should make up the other pair.</p>
<p><strong>Methods without an ohm-meter</strong></p>
<p>First, try turning the motor with your fingers, and notice how hard it is. Then, 
stick wires together in pairs. If the motor turns noticeable harder, you've found a pair.
Another method is to use an LED, hold any two wires to the ends of a LED and turn the 
motor (twiddle in both directions), the LED will light if the wires are a pair, 
swap wires until you light the LED.</p>
<p><img alt="drawing_400" src="../images/hat_wires.jpg" /></p>
<h1 id="connecting-the-lasers">Connecting the Lasers</h1>
<p>The FabScanPi HAT provides connectors for two lasers. But only one laser
is supported until now. Connect your laser to the connectors labeled
with ...</p>
<p><img alt="drawing_450" src="../images/laser_connection.jpg" /></p>
<p><strong>Safety switch</strong></p>
<p>There is the possibility to add a laser safety switch which disables the laser
when the lid is opened. The FabScanPi HAT provides a connector for such a switch.
If you don't need a switch you still have to bridge this connector with 
a cable to get the lasers work. (left image: with bridged connector, 
right image: connecting a switch)</p>
<p><img alt="test" src="../images/laser_safety.jpg" />
<img alt="test" src="../images/laser_safety_switch.jpg" /></p>
<h1 id="connecting-the-motor-drivers">Connecting the Motor drivers</h1>
<p>TODO</p>
<h1 id="connecting-the-power-supply">Connecting the Power Supply</h1>
<p>The FabScanPi will need 12V DC and 5V DC. There are different options to fulfil this requirement:</p>
<p><strong>Option A: </strong> (recommended)
Connect 12V DC to the HAT (round connector) and install a 12V DC - to - 5V DC regulator on the designated space on the HAT. Make sure the 5V power regulator can provide a current of min. 2.0A</p>
<p>for 1 turntable stepper motor, 1 PiCam and 1 laser.</p>
<p><img alt="drawing_400" src="../images/fabscanpihat_12to5.png" /></p>
<table>
<thead>
<tr>
<th>Pin label</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Inp.</td>
<td>12V from HAT as input for regulator</td>
</tr>
<tr>
<td>(white square)</td>
<td>Ground (GND)</td>
</tr>
<tr>
<td>5V</td>
<td>5V output from regulator to FabScanPi HAT</td>
</tr>
</tbody>
</table>
<p>For the DC/DC converter option you can find further instructions and pictures on the <a href="https://github.com/watterott/RPi-FabScan-HAT/blob/master/hardware/RPi-FabScan-HAT_Assembly.pdf">Watterott electronic website</a>.</p>
<p>NOTE: For the final stage of constuction a more powerful power supply is needed. At the moment there are no technical specifications available.</p>
<p><strong>Option B:</strong> </p>
<p>Connect 12V DC to the HAT (round connector) and 5V DC to the raspberry (micro USB connector). </p>
<p>NOTE: Make sure you switch on the both power sources at the same time to avoid software trouble.</p>
<p><strong>Option C:</strong><a name="5V-EXT"></a> </p>
<p>Connect 12V DC to the HAT (round connector) and connect a 5V DC power source to the 5V pin regulator pin on the HAT. Make sure the 5V power source can provide a current of min. 2.0A for</p>
<p>1 turntable stepper motor, 1 PiCam and 1 laser.</p>
<p><img alt="drawing_400" src="../images/fabscanpihat_5V.png" /></p>
<table>
<thead>
<tr>
<th>Pin label</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>(white square)</td>
<td>Ground (GND)</td>
</tr>
<tr>
<td>5V</td>
<td>Output from external 5V power source</td>
</tr>
</tbody>
</table>
<p>NOTE: For the final stage of constuction a more powerful power supply is needed. At the moment there are no technical specifications available. Make sure you switch on the both power sources at the same time to avoid software trouble.</p>
<h1 id="connecting-the-led-ring">Connecting the LED Ring</h1>
<p>This small manual will help you to assemble the Camera and LED ring combination. You will need a light if you want to perform texture scans (Check mark is set for Color Scan).</p>
<p><img alt="drawing_400" src="../images/RingLicht_1.jpg" /></p>
<p>This is how it should look like if you finished the assembly.</p>
<p>The Ring-Light will include the  parts you can see in the next picture below (the camera modul is sold separately):</p>
<p><img alt="drawing_400" src="../images/RingLicht_1b.jpg" /></p>
<p>IMPORTANT: You will need the standard camera modul (which has a green pcb). The module used in the pictures is the IR version which has the same dimensions but different optical specifications.</p>
<p>Step 1: Slide one end of the flat ribbon cable into the connector of the camera module (1). Make sure the blue plastic is on the side facing away from the camera. Push the lock bar of the connector gently into the lock position (2).</p>
<p><img alt="drawing_400" src="../images/RingLicht_2.jpg" /></p>
<p>Step 2: Merge the flat ribbon cable through the elongated hole in the LED board.</p>
<p><img alt="drawing_400" src="../images/RingLicht_3.jpg" /></p>
<p>Step 3: Put the four Screws through the holes in the camera board. The heads must be on the side where the lens is situated. Then put a spacer on every screw (as shown in the next picture). </p>
<p><img alt="drawing_400" src="../images/RingLicht_4.jpg" /></p>
<p>Step 4: Put the Camera modul on the LED board. All four screws must fit the appropriate hole. This can be a bit tricky but it is doable.</p>
<p><img alt="drawing_400" src="../images/RingLicht_5.jpg" /></p>
<p>Step 5: Put a nut on each screw an pull them hand-tight. </p>
<p><img alt="drawing_400" src="../images/RingLicht_6.jpg" /></p>
<p>Now the Camera-LED assembly is ready for installation.</p>
<p>The pins of the JST connector on the LED board have the following configuration:</p>
<p><img alt="drawing_400" src="../images/JST-LEDboard-Configuration.jpg" /></p>
<h1 id="additional-motors-for-the-lasers">Additional Motors for the Lasers</h1>
<p>TODO</p>
<h1 id="screws-and-washers">Screws and Washers</h1>
<p>Even if you use the srew set from Watterott, as given in the <em>BOM</em>, here is the the usage reference:</p>
<p><strong>Screws</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Length</th>
<th>Qty</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>M2</td>
<td>16</td>
<td>2</td>
<td>Servo Hitec-HS53</td>
</tr>
<tr>
<td></td>
<td></td>
<td>2</td>
<td>Security Switch</td>
</tr>
<tr>
<td></td>
<td></td>
<td>1</td>
<td>5mW line Laser red</td>
</tr>
<tr>
<td>M2.5</td>
<td>15</td>
<td>4</td>
<td>RaspberryPi</td>
</tr>
<tr>
<td>M3</td>
<td>10</td>
<td>4</td>
<td>Stepper motor</td>
</tr>
<tr>
<td></td>
<td></td>
<td>4</td>
<td>RPi-RingLight</td>
</tr>
<tr>
<td></td>
<td></td>
<td>4</td>
<td>Turn-table Mounting Hub</td>
</tr>
</tbody>
</table>
<p><strong>Washers</strong></p>
<table>
<thead>
<tr>
<th>Type</th>
<th>Heigth</th>
<th>Qty</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td>3.4/4.5</td>
<td>1</td>
<td>4</td>
<td>Stepper motor</td>
</tr>
<tr>
<td>2.5/4.5</td>
<td>3</td>
<td>4</td>
<td>RaspberryPi</td>
</tr>
</tbody>
</table>
              
              

            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../software/" class="btn btn-neutral float-right" title="Software">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../news/" class="btn btn-neutral" title="News"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>© Copyright 2015-2016, Mario Lukas</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/mariolukas/FabScanPi-Server" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../news/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../software/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../js/theme.js"></script>
      <script src="../js/main.js"></script>

</body>
</html>
